! -----------------------------------------------------------------------------
! ElmerFEM Circuit Generated: November 02, 2021
! -----------------------------------------------------------------------------

! -----------------------------------------------------------------------------
! Number of Circuits in Model
! -----------------------------------------------------------------------------
$ Circuits = 1

! -----------------------------------------------------------------------------
! Parameters
! -----------------------------------------------------------------------------

! General Parameters 
! Is = re_Is+ j im_Is, phase_Is = 0.0(Deg)
$ re_Is = 2742.0
$ im_Is = 0.0
$ phase_Is = 0.0

! Parameters in Component 1: Coil1
$ N_Coil1 = 1	 ! Number of Turns
$ R_Coil1 = 0	 ! Coil Resistance
$ Ns_Coil1 = 1	 ! Sector/Symmetry Coefficient (e.g. 4 is 1/4 of the domain)
$ Ae_Coil1 = 0.0025 	 ! Electrode Area (dummy for now change as required)

! -----------------------------------------------------------------------------
! Matrix Size Declaration and Matrix Initialization
! -----------------------------------------------------------------------------
$ C.1.variables = 5
$ C.1.perm = zeros(C.1.variables)
$ C.1.A = zeros(C.1.variables,C.1.variables)
$ C.1.B = zeros(C.1.variables,C.1.variables)

! -----------------------------------------------------------------------------
! Dof/Unknown Vector Definition
! -----------------------------------------------------------------------------
$ C.1.name.1 = "i_Is"
$ C.1.name.2 = "i_component(1)"
$ C.1.name.3 = "v_Is"
$ C.1.name.4 = "v_component(1)"
$ C.1.name.5 = "u_2_circuit_1"

! -----------------------------------------------------------------------------
! Source Vector Definition
! -----------------------------------------------------------------------------
$ C.1.source.5 = "Is_Source"

! -----------------------------------------------------------------------------
! KCL Equations
! -----------------------------------------------------------------------------
$ C.1.B(0,0) = -1
$ C.1.B(0,1) = 1

! -----------------------------------------------------------------------------
! KVL Equations
! -----------------------------------------------------------------------------
$ C.1.B(1,2) = 1
$ C.1.B(1,4) = -1
$ C.1.B(2,3) = -1
$ C.1.B(2,4) = 1

! -----------------------------------------------------------------------------
! Component Equations
! -----------------------------------------------------------------------------
$ C.1.B(4,0) = 1


! -----------------------------------------------------------------------------
! Additions in SIF file
! -----------------------------------------------------------------------------
Component 1
  Name = "Coil1"
  Master Bodies Name = Coil
  Coil Type = "Stranded"
  Number of Turns = Real $ N_Coil1
  Resistance = Real $ R_Coil1
 
  ! Additions for 3D Coil
  Coil Use W Vector = Logical True
  W Vector Variable Name = String CoilCurrent e
  Electrode Area = Real $ Ae_Coil1
End 

! -----------------------------------------------------------------------------
! Sources in SIF 
! -----------------------------------------------------------------------------

Body Force 1
  Is_Source re = Real $ re_Is*cos(phase_Is)
  Is_Source im = Real $ im_Is*sin(phase_Is)
End

! -----------------------------------------------------------------------------
! End of Circuit
! -----------------------------------------------------------------------------
